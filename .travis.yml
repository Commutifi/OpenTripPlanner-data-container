sudo: required

branches:
  only:
    - master

language: C

env:

jobs:
  include:
   - stage: prebuild
     env: ROUTER_NAME=hsl
     script: ./prebuild.sh
   - stage: prebuild
     env: ROUTER_NAME=waltti
     script: ./prebuild.sh
   - stage: prebuild
     env: ROUTER_NAME=finland
     script: ./prebuild.sh

   - stage: build
     env: ROUTER_NAME=hsl
     script: ./build-docker-image.sh
   - stage: build
     env: ROUTER_NAME=waltti
     script: ./build-docker-image.sh
   - stage: build
     env: ROUTER_NAME=finland
     script: ./build-docker-image.sh

   - stage: test
     script: true

services:
 - docker

script:
 - true

install:
 - true
